//###############################################################
// Get all the add stitch button and add an event listener to it
const addStitchBtn = document.getElementById('add-stitch-btn');

addStitchBtn.addEventListener('click', () => {
  const newStitchBox = document.createElement('div');
  newStitchBox.classList.add('individual-stitch-box');

  // Create the stitch label
  const stitchLabel = document.createElement('div');
  stitchLabel.classList.add('stitch-label');
  stitchLabel.textContent = 'New Stitch';

  // Add the stitch label to the new stitch box
  newStitchBox.appendChild(stitchLabel);

  // Create the stitch count container
  const stitchCount = document.createElement('div');
  stitchCount.classList.add('stitch-count');

  // Add the decrement button
  const decrementBtn = document.createElement('button');
  decrementBtn.classList.add('decrement-btn');
  decrementBtn.textContent = '-';

  // Add the stitch count number
  const stitchCountNumber = document.createElement('span');
  stitchCountNumber.classList.add('number');
  stitchCountNumber.textContent = '0';

  // Add the increment button
  const incrementBtn = document.createElement('button');
  incrementBtn.classList.add('increment-btn');
  incrementBtn.textContent = '+';

  // Add the stitch count elements to the container
  stitchCount.appendChild(decrementBtn);
  stitchCount.appendChild(stitchCountNumber);
  stitchCount.appendChild(incrementBtn);

  // Add the stitch count to the new stitch box
  newStitchBox.appendChild(stitchCount);

  // Add the new stitch box to the container
  container.appendChild(newStitchBox);
});

//#####################################
// Generate Recipe Button

//const generateArrayBtn = document.getElementById('generate-array-btn');
//generateArrayBtn.addEventListener('click', () => {
//  const stitchBoxes = document.querySelectorAll('.individual-stitch-box');
//  const stitchArray = [];
//  stitchBoxes.forEach(stitchBox => {
//    const label = stitchBox.querySelector('.stitch-label').textContent;
//    const count = stitchBox.querySelector('.number').textContent;
//    stitchArray.push(label, count);
//  });
//  console.log(stitchArray);
  
  // Hide stitch boxes
//  const stitchBoxContainer = document.querySelector('.container');
//  stitchBoxContainer.querySelectorAll('.individual-stitch-box').forEach(box => {
//    box.style.display = 'none';
//  });

  // Unhide output div and append textbox
//  const outputDiv = document.querySelector('#output');
//  outputDiv.style.display = 'block';
//  const textBox = document.createElement('textarea');
//  textBox.textContent = JSON.stringify(stitchArray);
//  outputDiv.appendChild(textBox);
//});

if (event.target.matches('#add-stitch-btn')) {
    createNewStitchBox();
  } else 